#!/usr/bin/env bash
set -e
set -x


#
# Copyright (c) 2017 Extreme Networks, Inc.
#
# This shell script generated 2017-04-20 05:26:01 by the command:
#
#  service-to-snapcraft-apps.py --shell --debug --verbose --nodaemon --init $SNAP/usr/bin/opx-snap-vm-init start prime/ src/opx-init/usr/bin/openswitch-manager
#
kill -SIGTERM $(cat $SNAP_DATA/var/run/opx/pids/opx-nas-init) || true
kill -SIGTERM $(cat $SNAP_DATA/var/run/opx/pids/opx-ip) || true
kill -SIGTERM $(cat $SNAP_DATA/var/run/opx/pids/opx-front-panel-ports) || true
kill -SIGTERM $(cat $SNAP_DATA/var/run/opx/pids/opx-nas-shell) || true
kill -SIGTERM $(cat $SNAP_DATA/var/run/netserve.pid) || true
$SNAP/usr/bin/pkill -SIGKILL opx_pas_service || true
kill -SIGTERM $(cat $SNAP_DATA/var/run/opx/pids/opx-phy-media-config) || true
pkill -SIGTERM -f base_nas_monitor_phy_media || true
kill -SIGTERM $(cat $SNAP_DATA/var/run/opx/pids/opx-cps-db) || true
kill -SIGTERM $(cat $SNAP_DATA/var/run/opx/pids/opx-tmpctl) || true
kill -SIGTERM $(cat $SNAP_DATA/var/run/opx/pids/opx-cps) || true
/bin/run-parts --verbose $SNAP/etc/redis/redis-server.pre-down.d || true
$SNAP/usr/bin/pkill -SIGTERM redis-server || true
/bin/run-parts --verbose $SNAP/etc/redis/redis-server.post-down.d || true

#
# Sweep up any stragglers.
#
kill -SIGKILL -$(cat $SNAP_DATA/var/run/opx/pids/openswitch-manager)

#
# End of auto-generated shell script.
#
